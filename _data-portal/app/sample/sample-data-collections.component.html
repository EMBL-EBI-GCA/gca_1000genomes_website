<ng-container *ngIf="sample.dataCollections">
<h2>Data collections for {{sample.name}}</h2>
<div class="flex-nav">
  <ul class="nav">
    <li *ngFor="let dc of sample.dataCollections" [ngClass]="{active: currentDC === dc}">
      <a role="button" (click)="setDC(dc)">{{dc.title}}</a>
    </li>
  </ul>
</div>

<div class="panel panel-default">
<div class="panel-body">
<div class="row">

  <p class="col-lg-4 col-md-4 col-sm-4 col-xs-12 text-center">
  <a *ngIf="currentDC?.dataReusePolicy" [href]="currentDC?.dataReusePolicy"><span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> Data reuse policy for {{currentDC.title}}</a>
  </p>

  <p class="col-lg-4 col-md-4 col-sm-4 col-xs-6 text-center">
  <ng-container *ngIf="fileList?.total > 0">
    <strong>{{fileList?.total}}</strong> matching data files
  </ng-container>
  </p>

  <p class="col-lg-4 col-md-4 col-sm-4 col-xs-6 text-center">
    <button class="btn btn-default" (click)="searchFilesExport()">Download the list</button>
  </p>

  <div class="clearfix"></div>

  <div class="col-md-4 col-lg-3 col-sm-12 col-xs-12"><div class="row">
    <div class="col-lg-12 col-md-12 col-sm-6 col-xs-6 table-group">
      <div class="panel panel-default">
        <div class="panel-heading">Data types</div>
        <div class="panel-body">
          <div class="checkbox" *ngFor="let dt of filterDataTypes" [ngClass]="{disabled: dt.isDisabled}">
            <label class="capitalize"><input type="checkbox" [ngModel]="dt.isFiltered" (ngModelChange)="toggleFilterDataType(dt, $event)" [disabled]="dt.isDisabled">{{dt.title}}</label>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-6 col-xs-6 table-group">
      <div class="panel panel-default">
        <div class="panel-heading">Analysis groups</div>
        <div class="panel-body">
          <div class="checkbox" *ngFor="let ag of filterAnalysisGroups" [ngClass]="{disabled: ag.isDisabled}">
            <label><input type="checkbox" [ngModel]="ag.isFiltered" (ngModelChange)="toggleFilterAnalysisGroup(ag, $event)" [disabled]="ag.isDisabled">{{ag.title}}</label>
          </div>
        </div>
      </div>
    </div>
  </div></div>

  <div class="col-md-8 col-lg-9">
    <ng-container *ngIf="offset > 0 || hasMore()">
      <button class="btn btn-default page-button pull-left" [ngClass]="{disabled: offset <=0}" (click)="tablePrevious()">&#171; Previous</button>
      <button class="btn btn-default page-button pull-right" [ngClass]="{disabled: !hasMore()}" (click)="tableNext()">Next &#187;</button>
    </ng-container>
    <table class="table table-striped table-condensed">
    <thead><tr>
      <th></th>
      <th>File</th>
      <th>Analysis group</th>
    </tr></thead>
    <tbody><tr *ngFor="let hit of fileList?.hits">
      <td><a [href]="hit._source.url"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span></a></td>
      <td [innerHTML]="softHyphens(hit._source.url)"></td>
      <td> {{ hit._source.analysisGroup }}</td>
    <tr></tbody>
    </table>
  </div>

</div>
</div>
</div>

</ng-container>
