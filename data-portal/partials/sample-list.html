<div es-search="ListCtrl.searchBody" hits-as="samples" es-type="sample" is-loading-as="esSamplesLoading"></div>
  <h1>Samples</h1>
  <h4 class="text-center element-loading" ng-if="esSamplesLoading"><span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span> Loading...</h4>
  <p ng-if="apiError">{{apiError.status}}: {{apiError.statusText}}</p>
  <div ng-show="samples">

  <button type="button" class="btn btn-default center-block" ng-click="ListCtrl.toggleView()">Toggle table view</button>

  <div class="matrix-wrapper">
  <table class="table table-striped table-condensed matrix" ng-show="!esSamplesLoading">
  <thead><tr>
    <th>Sample</th>
    <th>Sex</th>
    <th>Population</th>
    <th ng-if="ListCtrl.viewOption == 1" ng-repeat="dcName in ListCtrl.dataCollectionNames" class="matrix-dot"><div><div><div>{{dcName[1]}}</div></div></div></th>
    <th ng-if="ListCtrl.viewOption == 2" ng-repeat="agName in ListCtrl.analysisGroupNames" class="matrix-dot matrix-dot-narrow"><div><div><div>{{agName[1]}}</div></div></div></th>
  </tr></thead>
  <tr ng-repeat="sample in samples.hits">
    <td><a ng-href="sample/{{sample._source.name}}">{{sample._source.name}}</a></td>
    <td>{{sample._source.sex | ucFirst}}</td>
    <td><a ng-href="population/{{sample._source.population.code}}">{{sample._source.population.code}}</a></td>
    <td ng-if="ListCtrl.viewOption == 1" ng-repeat="dcName in ListCtrl.dataCollectionNames" class="matrix-dot">
        <div class="matrix-dot-item" ng-if="ListCtrl.hasCollection(sample, dcName[0])" uib-popover="{{sample._source.name}}: {{dcName[0]}}" popover-trigger="mouseenter">&#x25cf;</div>
    </td>
    <td ng-if="ListCtrl.viewOption == 2" ng-repeat="agName in ListCtrl.analysisGroupNames" class="matrix-dot matrix-dot-narrow">
        <div class="matrix-dot-item" ng-if="ListCtrl.hasAnalysisGroup(sample, agName[0])" uib-popover="{{sample._source.name}}: {{agName[0]}}" popover-trigger="mouseenter">&#x25cf;</div>
    </td>
  </tr>
  </table>
  </div>

  </div>
</div>
